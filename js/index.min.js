(function(d){var c;a();function a(){d.ajax({type:"GET",url:"data.php",cache:false,async:false,dataType:"json",success:function(f){c=f}})}function b(g){var f="";c.forEach(function(i){if(g==""){f+='<a data-url="'+i.file_path+"/"+i.file_name+'">'+i.file_name+"</a>"}else{var h=new RegExp();h=new RegExp(g,"i");if(h.test(i.file_name)){f+='<a data-url="'+i.file_path+"/"+i.file_name+'">'+e(g,i.file_name)+"</a>"}}});d("#search-list .s-list").empty().append(f)}function e(g,f){if(d.trim(g)==""){return f}else{var h=new RegExp(g,"ig");return f.replace(h,'<span style="color:red">'+g+"</span>")}}b("");d("#dir-list .toggle").on("click",function(){var g=d(this);var f=g.attr("data-open");g.siblings("ul").slideToggle();if(f=="1"){g.children("span.glyphicon").removeClass("glyphicon-folder-open");g.children("span.glyphicon").addClass("glyphicon-folder-close");g.attr("data-open","0")}else{g.children("span.glyphicon").addClass("glyphicon-folder-open");g.children("span.glyphicon").removeClass("glyphicon-folder-close");g.attr("data-open","1")}});d("#side-bar .nav li").on("click",function(){var g=d(this);g.siblings().removeClass("active").end().addClass("active");var f=g.attr("data");if(f=="search"){d("#dir-list").hide();d("#search-list").show();g.attr("data","search")}else{d("#dir-list").show();d("#search-list").hide();g.attr("data","dir")}});d("#dir-list .link a").on("click",function(){var f="md.php?md="+d(this).attr("data-url");d("#mainFrame").attr("src",f)});d("#search-list a").live("click",function(){var f="md.php?md="+d(this).attr("data-url");d("#mainFrame").attr("src",f)});d("#key").on("keyup",function(){var f=d(this).val();b(f)})})(jQuery);